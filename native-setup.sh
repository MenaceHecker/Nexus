#!/bin/bash

# Colors for output
RED='\033[0;31m'
GREEN='\033[0;32m'
YELLOW='\033[1;33m'
BLUE='\033[0;34m'
NC='\033[0m' # No Color

echo -e "${BLUE}â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—${NC}"
echo -e "${BLUE}â•‘   Native Monitoring Stack Setup               â•‘${NC}"
echo -e "${BLUE}â•‘   No Docker Required!                          â•‘${NC}"
echo -e "${BLUE}â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•${NC}"
echo ""

# Detect OS
OS=""
if [[ "$OSTYPE" == "linux-gnu"* ]]; then
    OS="linux"
    if [ -f /etc/debian_version ]; then
        DISTRO="debian"
    elif [ -f /etc/redhat-release ]; then
        DISTRO="redhat"
    fi
elif [[ "$OSTYPE" == "darwin"* ]]; then
    OS="macos"
else
    echo -e "${RED}âŒ Unsupported OS: $OSTYPE${NC}"
    exit 1
fi

echo -e "${GREEN}âœ… Detected OS: $OS${NC}"
echo ""

# Create directory structure
echo -e "${YELLOW}ğŸ“ Creating directory structure...${NC}"
mkdir -p monitoring-stack/{prometheus,alertmanager,grafana,elasticsearch,kibana,filebeat,postgres,redis,services/user-service,logs,data}
cd monitoring-stack

echo -e "${GREEN}âœ… Directories created${NC}"
echo ""